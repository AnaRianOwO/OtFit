<!DOCTYPE html>

<html>
<head>
  <title>OtFit Prototipo</title>
  <style>
    body {
      background-color: #A5A5A5;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      padding: 20px;
    }

    #contenedorAvatar {
      position: relative;
      width: 300px;
      height: 500px;
      border: 3px dashed #ccc;
    }

    #avatarBase {
      color: #ffccaa;
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .clothingItem {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      margin: auto;
    }

    #clothingOptions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .clothingOption {
      width: 80px;
      height: 80px;
      border: 1px solid #eee;
      cursor: pointer;
    }

    .clothingOption:hover {
      border-color: #ff66b2
    }

    [data-layer="base"] { z-index: 1; }
    [data-layer="middle"] { z-index: 2; }
    [data-type="bottom"] { z-index: 3; }
    [data-layer="top"] { z-index: 4; }
  </style>
</head>
<body>
<h1>Creador de OtFit</h1>

<div id="contenedorAvatar">
  <img id="avatarBase" src="img/model-prueba.svg" alt="Base del avatar">
</div>

<div id="clothingOptions">
  <!-- Capa base (prendas que van debajo) -->
  <img class="clothingOption" src="img/t-shirt.svg" data-type="top" data-layer="base" alt="T-shirt">
  <img class="clothingOption" src="img/crop-top.svg" data-type="top" data-layer="base" alt="Crop-Top">
  <img class="clothingOption" src="img/tank-top.svg" data-type="top" data-layer="base" alt="Tank-Top">

  <!-- Capa intermedia (prendas que pueden ir encima de otras) --> 
  <img class="clothingOption" src="img/hoodie.svg" data-type="top" data-layer="middle" alt="Hoodie">
  <img class="clothingOption" src="img/sweater.svg" data-type="top" data-layer="middle" alt="Sweater">
  
   <!-- Capa superior (prendas que van encima de todo) -->
  <img class="clothingOption" src="img/jacket.svg" data-type="top" data-layer="top" alt="Jacket">  
   
  <img class="clothingOption" src="img/mini-skirt.svg" data-type="bottom" alt="Mini-skirt">
  <img class="clothingOption" src="img/overall.svg" data-type="bottom" alt="Overall">
  <img class="clothingOption" src="img/pants.svg" data-type="bottom" alt="Pants">
  <img class="clothingOption" src="img/skirt.svg" data-type="bottom" alt="Skirt">
</div>

<button id="reset-btn">Reset Outfit</button>
<script>  
  document.querySelectorAll('.clothingOption').forEach(item=> {
    item.addEventListener('click', () =>{
      const type = item.getAttribute('data-type');
      const layer = item.getAttribute('data-layer') || 'base';
      const src = item.getAttribute('src');
      const alt = item.getAttribute('alt');

      const oldItem = document.querySelector(`.clothingItem[data-type="${type}"][data-layer="${layer}"]`);
      if (oldItem) oldItem.remove();

      const newItem = document.createElement('img');
      newItem.src = src;
      newItem.className = 'clothingItem';
      newItem.setAttribute('data-type', type);
      newItem.setAttribute('data-layer', layer);
      newItem.setAttribute('alt', alt);
      document.getElementById('contenedorAvatar').appendChild(newItem); 
    });
  });

  document.getElementById('reset-btn').addEventListener('click', () => {
    document.getElementById('contenedorAvatar').innerHTML = '<img id="avatarBase" src="img/model-prueba.svg" alt="Base del avatar">';
  });
  
</script>

</body>
</html>
