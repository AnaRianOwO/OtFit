<!DOCTYPE html>

<html>
<head>
  <title>Prototipo de recomendaciones</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #D0D0D0;
      text-align: center;
      padding: 20px;
    }
    
    .color-picker {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }
    
    .color-option {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid transparent;
    }
    
    .color-option.selected {
      border-color: grey;
      opacity: 0.8;
    }
    
    button {
      background-color: #FF85A2;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 16px;
      margin: 20px 0;
    }

  </style>
<head>
<body>

<h1>Creador de recomendaciones<h1>



<h2>Elige tus estilos favoritos:</h2>
<select id="style-picker" class="style-picker">
  <option value="casual">Casual</option>
  <option value="comfy">Comfy</option>
  <option value="emo">Emo</option>
  <option value="punk">Punk</option>
  <option value="hipster">Hipster</option>
</select>

<h2>Elige tus colores favoritos:</h2>
<div id="color-picker" class="color-picker"></div>

<button onclick="generarOutfits()">Generar Outfits</button>

<div id="resultados-outfits"></div>

<script>
    // Base de datos falsa

    const outfitsDB = [
      {
        id: 1,
        name: "Vestido Rojo Casual",
        colors: ["#FF0000", "#000000"],
        style: "casual",
      },
      {
        id: 2,
        name: "Traje Azul Formal",
        colors: ["#0000FF", "#FFFFFF"],
        style: "hipster",
      },
      {
        id: 3,
        name: "Conjunto Verde Punk",
        colors: ["#00FF00", "#79421F"],
        style: "punk",
      },
      {
        id: 4,
        name: "Sudadera Dorada Comfy",
        colors: ["#FFD700", "#000000"],
        style: "comfy",
      },
      {
        id: 5,
        name: "Vestido Rosa Emo",
        colors: ["#FF85A2", "#000000"],
        style: "emo",
      },
      {
        id: 6,
        name: "Chaleco Café Hipster",
        colors: ["#79421F", "#FFFFFF"],
        style: "hipster",
      },
      {
        id: 7,
        name: "Camisa Azul y Dorado Casual",
        colors: ["#0000FF", "#FFD700"],
        style: "casual",
      },
      {
        id: 8,
        name: "Conjunto Verde Comfy",
        colors: ["#00FF00", "#FFFFFF"],
        style: "comfy",
      },
      {
        id: 9,
        name: "Chaqueta Roja Punk",
        colors: ["#FF0000", "#79421F"],
        style: "punk",
      },
      {
        id: 10,
        name: "Outfit Negro y Rosa Emo",
        colors: ["#000000", "#FF85A2"],
        style: "emo",
      },
      {
        id: 11,
        name: "Look Blanco Dorado Hipster",
        colors: ["#FFFFFF", "#FFD700"],
        style: "hipster",
      },
      {
        id: 12,
        name: "Camisa Azul y Rosa Casual",
        colors: ["#0000FF", "#FF85A2"],
        style: "casual",
      },
      {
        id: 13,
        name: "Sudadera Verde Comfy",
        colors: ["#00FF00", "#000000"],
        style: "comfy",
      },
      {
        id: 14,
        name: "Camiseta Café Punk",
        colors: ["#79421F", "#FF0000"],
        style: "punk",
      },
      {
        id: 15,
        name: "Vestido Azul Oscuro Emo",
        colors: ["#0000FF", "#000000"],
        style: "emo",
      },
      {
        id: 16,
        name: "Conjunto Rosa Comfy",
        colors: ["#FF85A2", "#FFFFFF"],
        style: "comfy",
      },
      {
        id: 17,
        name: "Outfit Negro y Café Hipster",
        colors: ["#000000", "#79421F"],
        style: "hipster",
      },
      {
        id: 18,
        name: "Look Verde y Rosa Casual",
        colors: ["#00FF00", "#FF85A2"],
        style: "casual",
      },
      {
        id: 19,
        name: "Chaqueta Roja y Azul Punk",
        colors: ["#FF0000", "#0000FF"],
        style: "punk",
      },
      {
        id: 20,
        name: "Outfit Dorado y Rosa Emo",
        colors: ["#FFD700", "#FF85A2"],
        style: "emo",
      },
    ];
    

    const availableColors = ["#FF0000", "#0000FF", "#FFD700", "#00FF00", "#000000", "#FFFFFF", "#FF85A2", "#79421F"];

    // Inicializar el color picker
    const colorPicker = document.getElementById("color-picker");
    const selectedColors = new Set();

    availableColors.forEach(color => {
      const colorElement = document.createElement("div");
      colorElement.className = "color-option";
      colorElement.style.backgroundColor = color;
      colorElement.onclick = () => {
        colorElement.classList.toggle("selected");
        if (selectedColors.has(color)) {
          selectedColors.delete(color);
        } else {
          selectedColors.add(color);
        }
      };
      colorPicker.appendChild(colorElement);
    });

    function rgbToHex(rgb) {
      const [r, g, b] = rgb.match(/\d+/g).map(Number);
      const toHex = (n) => n.toString(16).padStart(2, '0');
      return `#${toHex(r)}${toHex(g)}${toHex(b)}`.toUpperCase();
    }

    function generarOutfits() {
      const style = document.getElementById("style-picker").value;
      const colors = Array.from(document.querySelectorAll(".color-option.selected")).map((el) => {
          const rgbColor = window.getComputedStyle(el).backgroundColor;
          return rgbToHex(rgbColor);
        });
      const outfitsRecomendados = recomendarOutfits(colors, style);

      const resultadosDiv = document.getElementById("resultados-outfits");
      resultadosDiv.innerHTML = "";

      outfitsRecomendados.forEach((outfit) => {
          resultadosDiv.innerHTML += `
            <div class="outfit">
              <h3>${outfit.name}</h3>
              <p>Estilo: ${outfit.style}</p>
              <p>Colores: ${outfit.colors.join(", ")}</p>
            </div>
          `;
        });
    }

    function recomendarOutfits(selectedColors, selectedStyle) {
      // Filtra los outfits que coincidan con AL MENOS 1 color y el estilo elegido
      const recommended = outfitsDB.filter((outfit) => {
        const colorMatch = outfit.colors.some((color) => selectedColors.includes(color));
        const styleMatch = outfit.style === selectedStyle;
        return colorMatch && styleMatch;
      });

      return recommended;
    }
    
</script>

</body>
</html>
